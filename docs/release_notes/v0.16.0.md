# New in 0.16.0 (2022-04-08)

In this release, we have refactored our destVI model:

1. Bug fix in cell type amortization, which leads to on par performance of cell type amortization with free parameter for cell type.
2. Bug fix in library size, that lead to dependency between sum over cell type proportions and library size.
3. Vamp_prior_p is not computed anymore on random subset of single cells but cell type specific subclustering using cluster variance,
cluster mean and cluster mixture proportion for computation. This leads to more stable results and faster computation time.
Setting vamp_prior_p to the expected resolution is critical in this application.
4. The new default is to also use dropout during the decoder of CondSCVI and subsequently in DestVI, we found this to be beneficial after
bug fixes listed above.
5. We changed the weighting of the loss on the variances of beta and the prior of eta.

**Important Note:** Due to bug fixes listed above both versions of destVI are not compatible. Despite instability in training in the
outdated version, we were able to reproduce results generated with this code. We therefore do not strictly encourage to rerun old
experiments.

We published a new tutorial. This new tutorial incorporates a new utility package [destvi_utils](https://github.com/YosefLab/destvi_utils) that generates exploratory plots of the results of destVI. We refer to the manual of this package for further documentation.

## Changes

- Major refactor of destVI ([#1457]).

## Breaking changes

## Contributors

- [@jjhong922]
- [@adamgayoso]
- [@watiss]

[#1457]: https://github.com/YosefLab/scvi-tools/pull/1457
[@adamgayoso]: https://github.com/adamgayoso
[@cane11]: https://github.com/cane11
[@romain-lopez]: https://github.com/romain-lopez
